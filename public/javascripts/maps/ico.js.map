{"version":3,"sources":["ico.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","$","document","ready","md","window","markdownit","icoDecimals__val","Web3","val","icoTotalSupply__converted","math","pow","icoTotalSupply","html","mask","reverse","icoTotalForSale__val","icoTotalForSale__converted","icoTotalForSale","icoSoftCup","icoHardCapUsd__val","icoHardCapUsd","icoHardCapUsd__converted","currentPeriod__val","parseInt","tokensSold__val","tokensSold__converted","toFixed","tokensSold","cb","diffTime","duration","timerInterval","icoStages__input","icoStages__val","JSON","parse","endDateCurrentPeriod__val","endDate","currentTime","moment","unix","res","console","log","setInterval","years","months","days","hours","minutes","seconds","clearInterval","priceInCurrentPeriod__converted","price","progressBar_width","css","owlCarousel","margin","loop","autoWidth","items","nav","dots","md_descr","render","startDate","format"],"mappings":"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","file":"../ico.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n    var md = window.markdownit();\n    var web3 = new Web3();\n\n    var icoDecimals__input = $('#icoDecimals__input');\n    var icoDecimals__val = icoDecimals__input.val();\n\n    var icoTotalSupply__input = $('#icoTotalSupply__input');\n    var icoTotalSupply__val = icoTotalSupply__input.val();\n    var icoTotalSupply__converted = icoTotalSupply__val / math.pow(10, icoDecimals__val);\n    var icoTotalSupply = $('.icoTotalSupply__FORMATTED');\n    icoTotalSupply.html(icoTotalSupply__converted);\n    icoTotalSupply.mask('000 000 000 000 000 000', { reverse: true });\n\n    var icoTotalForSale__input = $('#icoTotalForSale__input');\n    var icoTotalForSale__val = icoTotalForSale__input.val();\n    var icoTotalForSale__converted = icoTotalForSale__val / math.pow(10, icoDecimals__val);\n    var icoTotalForSale = $('.icoTotalForSale__FORMATTED');\n    icoTotalForSale.html(icoTotalForSale__converted);\n    icoTotalForSale.mask('000 000 000 000 000 000', { reverse: true });\n\n    var icoSoftCup = $('.icoSoftCup__FORMATTED');\n    icoSoftCup.html(icoTotalSupply__converted / 100);\n    icoSoftCup.mask('000 000 000 000 000 000', { reverse: true });\n\n    var icoHardCapUsd__input = $('#icoHardCapUsd__input');\n    var icoHardCapUsd__val = icoHardCapUsd__input.val();\n    var icoHardCapUsd = $('.icoHardCapUsd__FORMATTED');\n    var icoHardCapUsd__converted = icoHardCapUsd__val / math.pow(10, 6);\n    icoHardCapUsd.html(icoHardCapUsd__converted);\n    icoHardCapUsd.mask('000 000 000 000 000 000', { reverse: true });\n\n    var currentPeriod__input = $('#currentPeriod__input');\n    var currentPeriod__val = currentPeriod__input.val();\n    var currentPeriod = $('.currentPeriod__FORMATTED');\n    currentPeriod.html(parseInt(currentPeriod__val) + 1);\n\n    var tokensSold__input = $('#tokensSold__input');\n    var tokensSold__val = tokensSold__input.val();\n    var tokensSold__converted = (tokensSold__val / math.pow(10, icoDecimals__val)).toFixed(0);\n    var tokensSold = $('.tokensSold__FORMATTED');\n    tokensSold.html(tokensSold__converted);\n    tokensSold.mask('000 000 000 000 000 000', { reverse: true });\n\n    var icoStages__input = $('#icoStages__input');\n    var icoStages__val = JSON.parse(icoStages__input.val());\n\n    var endDateCurrentPeriod__val = icoStages__val[currentPeriod__val].endDate;\n    var currentTime = moment().unix();\n    timer(currentTime, endDateCurrentPeriod__val, function (res) {\n        console.log(res);\n    });\n\n    var priceInCurrentPeriod__val = icoStages__val[currentPeriod__val].price;\n    var priceInCurrentPeriod__converted = priceInCurrentPeriod__val / math.pow(10, 6);\n    var priceInCurrentPeriod = $('.priceInCurrentPeriod__FORMATTED');\n    priceInCurrentPeriod.html(priceInCurrentPeriod__converted);\n\n    var progressBar_width = 100 / (icoTotalForSale__val / tokensSold__val);\n    var progressBar = $('#progress-bar');\n    progressBar.css(\"width\", progressBar_width + \"%\");\n\n    // progressBar\n\n    $('.gallery-slider').owlCarousel({\n        margin: 10,\n        loop: false,\n        autoWidth: true,\n        items: 4,\n        nav: true,\n        dots: false\n    });\n    var md_descr = $('#ico__description__input').val();\n    $('#ico__description-area').html(md.render(md_descr));\n\n    var startDate = $('#startDate__input').val();\n    $('#startDate').html(moment.unix(startDate).format(\"DD.MM.YYYY [(]HH:mm:ss[)]\"));\n\n    var endDate = $('#endDate__input').val();\n    $('#endDate').html(moment.unix(endDate).format(\"DD.MM.YYYY [(]HH:mm:ss[)]\"));\n\n    // let currentTime = moment().unix();\n\n\n    function timer(currentTime, endTime, cb) {\n        var diffTime = endTime - currentTime;\n\n        var duration = moment.duration(diffTime * 1000, 'milliseconds');\n        var interval = 1000;\n\n        var timerInterval = setInterval(function () {\n            duration = moment.duration(duration - interval, 'milliseconds');\n\n            var years = duration.years();\n            var months = duration.months();\n            var days = duration.days();\n            var hours = duration.hours();\n            var minutes = duration.minutes();\n            var seconds = duration.seconds();\n            if (years + months + days + hours + minutes + seconds === 0) {\n                clearInterval(timerInterval);\n                cb(null);\n            } else {\n                cb({\n                    years: years,\n                    months: months,\n                    days: days,\n                    hours: hours,\n                    minutes: minutes,\n                    seconds: seconds\n                });\n            }\n        }, interval);\n    }\n});\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvaWNvLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxFQUFFLFFBQUYsRUFBWSxLQUFaLENBQWtCLFlBQVU7QUFDeEIsUUFBTSxLQUFLLE9BQU8sVUFBUCxFQUFYO0FBQ0EsUUFBTSxPQUFPLElBQUksSUFBSixFQUFiOztBQUVBLFFBQUkscUJBQXFCLEVBQUUscUJBQUYsQ0FBekI7QUFDQSxRQUFJLG1CQUFtQixtQkFBbUIsR0FBbkIsRUFBdkI7O0FBRUEsUUFBSSx3QkFBd0IsRUFBRSx3QkFBRixDQUE1QjtBQUNBLFFBQUksc0JBQXNCLHNCQUFzQixHQUF0QixFQUExQjtBQUNBLFFBQUksNEJBQTZCLHNCQUFzQixLQUFLLEdBQUwsQ0FBUyxFQUFULEVBQWEsZ0JBQWIsQ0FBdkQ7QUFDQSxRQUFJLGlCQUFpQixFQUFFLDRCQUFGLENBQXJCO0FBQ0EsbUJBQWUsSUFBZixDQUFvQix5QkFBcEI7QUFDQSxtQkFBZSxJQUFmLENBQW9CLHlCQUFwQixFQUErQyxFQUFDLFNBQVMsSUFBVixFQUEvQzs7QUFFQSxRQUFJLHlCQUF5QixFQUFFLHlCQUFGLENBQTdCO0FBQ0EsUUFBSSx1QkFBdUIsdUJBQXVCLEdBQXZCLEVBQTNCO0FBQ0EsUUFBSSw2QkFBOEIsdUJBQXVCLEtBQUssR0FBTCxDQUFTLEVBQVQsRUFBYSxnQkFBYixDQUF6RDtBQUNBLFFBQUksa0JBQWtCLEVBQUUsNkJBQUYsQ0FBdEI7QUFDQSxvQkFBZ0IsSUFBaEIsQ0FBcUIsMEJBQXJCO0FBQ0Esb0JBQWdCLElBQWhCLENBQXFCLHlCQUFyQixFQUFnRCxFQUFDLFNBQVMsSUFBVixFQUFoRDs7QUFFQSxRQUFJLGFBQWEsRUFBRSx3QkFBRixDQUFqQjtBQUNBLGVBQVcsSUFBWCxDQUFnQiw0QkFBNEIsR0FBNUM7QUFDQSxlQUFXLElBQVgsQ0FBZ0IseUJBQWhCLEVBQTJDLEVBQUMsU0FBUyxJQUFW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ckMsWUFBSSxXQUFXLFVBQVUsV0FBekI7O0FBRUEsWUFBSSxXQUFXLE9BQU8sUUFBUCxDQUFnQixXQUFXLElBQTNCLEVBQWlDLGNBQWpDLENBQWY7QUFDQSxZQUFJLFdBQVcsSUFBZjs7QUFFQSxZQUFJLGdCQUFnQixZQUFZLFlBQUs7QUFDakMsdUJBQVcsT0FBTyxRQUFQLENBQWdCLFdBQVcsUUFBM0IsRUFBcUMsY0FBckMsQ0FBWDs7QUFFQSxnQkFBSSxRQUFRLFNBQVMsS0FBVCxFQUFaO0FBQ0EsZ0JBQUksU0FBUyxTQUFTLE1BQVQsRUFBYjtBQUNBLGdCQUFJLE9BQU8sU0FBUyxJQUFULEVBQVg7QUFDQSxnQkFBSSxRQUFRLFNBQVMsS0FBVCxFQUFaO0FBQ0EsZ0JBQUksVUFBVSxTQUFTLE9BQVQsRUFBZDtBQUNBLGdCQUFJLFVBQVUsU0FBUyxPQUFULEVBQWQ7QUFDQSxnQkFBSyxRQUFRLE1BQVIsR0FBaUIsSUFBakIsR0FBd0IsS0FBeEIsR0FBZ0MsT0FBaEMsR0FBMEMsT0FBM0MsS0FBd0QsQ0FBNUQsRUFBK0Q7QUFDM0QsOEJBQWMsYUFBZDtBQUNBLG1CQUFHLElBQUg7QUFDSCxhQUhELE1BR087QUFDSCxtQkFBRztBQUNDLDJCQUFPLEtBRFI7QUFFQyw0QkFBUSxNQUZUO0FBR0MsMEJBQU0sSUFIUDtBQUlDLDJCQUFPLEtBSlI7QUFLQyw2QkFBUyxPQUxWO0FBTUMsNkJBQVM7QUFOVixpQkFBSDtBQVFIO0FBQ0osU0F0Qm1CLEVBc0JqQixRQXRCaUIsQ0FBcEI7QUF1Qkg7QUFDSixDQW5IRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgICBjb25zdCBtZCA9IHdpbmRvdy5tYXJrZG93bml0KCk7XHJcbiAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMoKTtcclxuXHJcbiAgICBsZXQgaWNvRGVjaW1hbHNfX2lucHV0ID0gJCgnI2ljb0RlY2ltYWxzX19pbnB1dCcpO1xyXG4gICAgbGV0IGljb0RlY2ltYWxzX192YWwgPSBpY29EZWNpbWFsc19faW5wdXQudmFsKCk7XHJcblxyXG4gICAgbGV0IGljb1RvdGFsU3VwcGx5X19pbnB1dCA9ICQoJyNpY29Ub3RhbFN1cHBseV9faW5wdXQnKTtcclxuICAgIGxldCBpY29Ub3RhbFN1cHBseV9fdmFsID0gaWNvVG90YWxTdXBwbHlfX2lucHV0LnZhbCgpO1xyXG4gICAgbGV0IGljb1RvdGFsU3VwcGx5X19jb252ZXJ0ZWQgPSAoaWNvVG90YWxTdXBwbHlfX3ZhbCAvIG1hdGgucG93KDEwLCBpY29EZWNpbWFsc19fdmFsKSk7XHJcbiAgICBsZXQgaWNvVG90YWxTdXBwbHkgPSAkKCcuaWNvVG90YWxTdXBwbHlfX0ZPUk1BVFRFRCcpO1xyXG4gICAgaWNvVG90YWxTdXBwbHkuaHRtbChpY29Ub3RhbFN1cHBseV9fY29udmVydGVkKTtcclxuICAgIGljb1RvdGFsU3VwcGx5Lm1hc2soJzAwMCAwMDAgMDAwIDAwMCAwMDAgMDAwJywge3JldmVyc2U6IHRydWV9KTtcclxuXHJcbiAgICBsZXQgaWNvVG90YWxGb3JTYWxlX19pbnB1dCA9ICQoJyNpY29Ub3RhbEZvclNhbGVfX2lucHV0Jyk7XHJcbiAgICBsZXQgaWNvVG90YWxGb3JTYWxlX192YWwgPSBpY29Ub3RhbEZvclNhbGVfX2lucHV0LnZhbCgpO1xyXG4gICAgbGV0IGljb1RvdGFsRm9yU2FsZV9fY29udmVydGVkID0gKGljb1RvdGFsRm9yU2FsZV9fdmFsIC8gbWF0aC5wb3coMTAsIGljb0RlY2ltYWxzX192YWwpKTtcclxuICAgIGxldCBpY29Ub3RhbEZvclNhbGUgPSAkKCcuaWNvVG90YWxGb3JTYWxlX19GT1JNQVRURUQnKTtcclxuICAgIGljb1RvdGFsRm9yU2FsZS5odG1sKGljb1RvdGFsRm9yU2FsZV9fY29udmVydGVkKTtcclxuICAgIGljb1RvdGFsRm9yU2FsZS5tYXNrKCcwMDAgMDAwIDAwMCAwMDAgMDAwIDAwMCcsIHtyZXZlcnNlOiB0cnVlfSk7XHJcblxyXG4gICAgbGV0IGljb1NvZnRDdXAgPSAkKCcuaWNvU29mdEN1cF9fRk9STUFUVEVEJyk7XHJcbiAgICBpY29Tb2Z0Q3VwLmh0bWwoaWNvVG90YWxTdXBwbHlfX2NvbnZlcnRlZCAvIDEwMCk7XHJcbiAgICBpY29Tb2Z0Q3VwLm1hc2soJzAwMCAwMDAgMDAwIDAwMCAwMDAgMDAwJywge3JldmVyc2U6IHRydWV9KTtcclxuXHJcbiAgICBsZXQgaWNvSGFyZENhcFVzZF9faW5wdXQgPSAkKCcjaWNvSGFyZENhcFVzZF9faW5wdXQnKTtcclxuICAgIGxldCBpY29IYXJkQ2FwVXNkX192YWwgPSBpY29IYXJkQ2FwVXNkX19pbnB1dC52YWwoKTtcclxuICAgIGxldCBpY29IYXJkQ2FwVXNkID0gJCgnLmljb0hhcmRDYXBVc2RfX0ZPUk1BVFRFRCcpO1xyXG4gICAgbGV0IGljb0hhcmRDYXBVc2RfX2NvbnZlcnRlZCA9IChpY29IYXJkQ2FwVXNkX192YWwgLyBtYXRoLnBvdygxMCwgNikpO1xyXG4gICAgaWNvSGFyZENhcFVzZC5odG1sKGljb0hhcmRDYXBVc2RfX2NvbnZlcnRlZCk7XHJcbiAgICBpY29IYXJkQ2FwVXNkLm1hc2soJzAwMCAwMDAgMDAwIDAwMCAwMDAgMDAwJywge3JldmVyc2U6IHRydWV9KTtcclxuXHJcbiAgICBsZXQgY3VycmVudFBlcmlvZF9faW5wdXQgPSAkKCcjY3VycmVudFBlcmlvZF9faW5wdXQnKTtcclxuICAgIGxldCBjdXJyZW50UGVyaW9kX192YWwgPSBjdXJyZW50UGVyaW9kX19pbnB1dC52YWwoKTtcclxuICAgIGxldCBjdXJyZW50UGVyaW9kID0gJCgnLmN1cnJlbnRQZXJpb2RfX0ZPUk1BVFRFRCcpO1xyXG4gICAgY3VycmVudFBlcmlvZC5odG1sKHBhcnNlSW50KGN1cnJlbnRQZXJpb2RfX3ZhbCkgKyAxKTtcclxuXHJcbiAgICBsZXQgdG9rZW5zU29sZF9faW5wdXQgPSAkKCcjdG9rZW5zU29sZF9faW5wdXQnKTtcclxuICAgIGxldCB0b2tlbnNTb2xkX192YWwgPSB0b2tlbnNTb2xkX19pbnB1dC52YWwoKTtcclxuICAgIGxldCB0b2tlbnNTb2xkX19jb252ZXJ0ZWQgPSAodG9rZW5zU29sZF9fdmFsIC8gbWF0aC5wb3coMTAsIGljb0RlY2ltYWxzX192YWwpKS50b0ZpeGVkKDApO1xyXG4gICAgbGV0IHRva2Vuc1NvbGQgPSAkKCcudG9rZW5zU29sZF9fRk9STUFUVEVEJyk7XHJcbiAgICB0b2tlbnNTb2xkLmh0bWwodG9rZW5zU29sZF9fY29udmVydGVkKTtcclxuICAgIHRva2Vuc1NvbGQubWFzaygnMDAwIDAwMCAwMDAgMDAwIDAwMCAwMDAnLCB7cmV2ZXJzZTogdHJ1ZX0pO1xyXG5cclxuXHJcbiAgICBsZXQgaWNvU3RhZ2VzX19pbnB1dCA9ICQoJyNpY29TdGFnZXNfX2lucHV0Jyk7XHJcbiAgICBsZXQgaWNvU3RhZ2VzX192YWwgPSBKU09OLnBhcnNlKGljb1N0YWdlc19faW5wdXQudmFsKCkpO1xyXG5cclxuICAgIGxldCBlbmREYXRlQ3VycmVudFBlcmlvZF9fdmFsID0gaWNvU3RhZ2VzX192YWxbY3VycmVudFBlcmlvZF9fdmFsXS5lbmREYXRlO1xyXG4gICAgbGV0IGN1cnJlbnRUaW1lID0gbW9tZW50KCkudW5peCgpO1xyXG4gICAgdGltZXIoY3VycmVudFRpbWUsIGVuZERhdGVDdXJyZW50UGVyaW9kX192YWwsIChyZXMpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IHByaWNlSW5DdXJyZW50UGVyaW9kX192YWwgPSBpY29TdGFnZXNfX3ZhbFtjdXJyZW50UGVyaW9kX192YWxdLnByaWNlO1xyXG4gICAgbGV0IHByaWNlSW5DdXJyZW50UGVyaW9kX19jb252ZXJ0ZWQgPSAocHJpY2VJbkN1cnJlbnRQZXJpb2RfX3ZhbCAvIG1hdGgucG93KDEwLCA2KSk7XHJcbiAgICBsZXQgcHJpY2VJbkN1cnJlbnRQZXJpb2QgPSAkKCcucHJpY2VJbkN1cnJlbnRQZXJpb2RfX0ZPUk1BVFRFRCcpO1xyXG4gICAgcHJpY2VJbkN1cnJlbnRQZXJpb2QuaHRtbChwcmljZUluQ3VycmVudFBlcmlvZF9fY29udmVydGVkKTtcclxuXHJcbiAgICBsZXQgcHJvZ3Jlc3NCYXJfd2lkdGggPSAxMDAgLyAoaWNvVG90YWxGb3JTYWxlX192YWwgLyB0b2tlbnNTb2xkX192YWwpO1xyXG4gICAgbGV0IHByb2dyZXNzQmFyID0gJCgnI3Byb2dyZXNzLWJhcicpO1xyXG4gICAgcHJvZ3Jlc3NCYXIuY3NzKFwid2lkdGhcIiwgcHJvZ3Jlc3NCYXJfd2lkdGggKyBcIiVcIik7XHJcblxyXG4gICAgLy8gcHJvZ3Jlc3NCYXJcclxuXHJcbiAgICAkKCcuZ2FsbGVyeS1zbGlkZXInKS5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgbWFyZ2luOiAxMCxcclxuICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICBhdXRvV2lkdGg6IHRydWUsXHJcbiAgICAgICAgaXRlbXM6IDQsXHJcbiAgICAgICAgbmF2OiB0cnVlLFxyXG4gICAgICAgIGRvdHM6IGZhbHNlXHJcbiAgICB9KTtcclxuICAgIGxldCBtZF9kZXNjciA9ICAkKCcjaWNvX19kZXNjcmlwdGlvbl9faW5wdXQnKS52YWwoKTtcclxuICAgICQoJyNpY29fX2Rlc2NyaXB0aW9uLWFyZWEnKS5odG1sKG1kLnJlbmRlcihtZF9kZXNjcikpO1xyXG5cclxuICAgIGxldCBzdGFydERhdGUgPSAkKCcjc3RhcnREYXRlX19pbnB1dCcpLnZhbCgpO1xyXG4gICAgJCgnI3N0YXJ0RGF0ZScpLmh0bWwobW9tZW50LnVuaXgoc3RhcnREYXRlKS5mb3JtYXQoXCJERC5NTS5ZWVlZIFsoXUhIOm1tOnNzWyldXCIpKTtcclxuXHJcbiAgICBsZXQgZW5kRGF0ZSA9ICQoJyNlbmREYXRlX19pbnB1dCcpLnZhbCgpO1xyXG4gICAgJCgnI2VuZERhdGUnKS5odG1sKG1vbWVudC51bml4KGVuZERhdGUpLmZvcm1hdChcIkRELk1NLllZWVkgWyhdSEg6bW06c3NbKV1cIikpO1xyXG5cclxuICAgIC8vIGxldCBjdXJyZW50VGltZSA9IG1vbWVudCgpLnVuaXgoKTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gdGltZXIoY3VycmVudFRpbWUsIGVuZFRpbWUsIGNiKSB7XHJcbiAgICAgICAgbGV0IGRpZmZUaW1lID0gZW5kVGltZSAtIGN1cnJlbnRUaW1lO1xyXG5cclxuICAgICAgICBsZXQgZHVyYXRpb24gPSBtb21lbnQuZHVyYXRpb24oZGlmZlRpbWUgKiAxMDAwLCAnbWlsbGlzZWNvbmRzJyk7XHJcbiAgICAgICAgbGV0IGludGVydmFsID0gMTAwMDtcclxuXHJcbiAgICAgICAgbGV0IHRpbWVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKT0+IHtcclxuICAgICAgICAgICAgZHVyYXRpb24gPSBtb21lbnQuZHVyYXRpb24oZHVyYXRpb24gLSBpbnRlcnZhbCwgJ21pbGxpc2Vjb25kcycpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHllYXJzID0gZHVyYXRpb24ueWVhcnMoKTtcclxuICAgICAgICAgICAgbGV0IG1vbnRocyA9IGR1cmF0aW9uLm1vbnRocygpO1xyXG4gICAgICAgICAgICBsZXQgZGF5cyA9IGR1cmF0aW9uLmRheXMoKTtcclxuICAgICAgICAgICAgbGV0IGhvdXJzID0gZHVyYXRpb24uaG91cnMoKTtcclxuICAgICAgICAgICAgbGV0IG1pbnV0ZXMgPSBkdXJhdGlvbi5taW51dGVzKCk7XHJcbiAgICAgICAgICAgIGxldCBzZWNvbmRzID0gZHVyYXRpb24uc2Vjb25kcygpO1xyXG4gICAgICAgICAgICBpZiAoKHllYXJzICsgbW9udGhzICsgZGF5cyArIGhvdXJzICsgbWludXRlcyArIHNlY29uZHMpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgY2IobnVsbCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYih7XHJcbiAgICAgICAgICAgICAgICAgICAgeWVhcnM6IHllYXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoczogbW9udGhzLFxyXG4gICAgICAgICAgICAgICAgICAgIGRheXM6IGRheXMsXHJcbiAgICAgICAgICAgICAgICAgICAgaG91cnM6IGhvdXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnV0ZXM6IG1pbnV0ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kczogc2Vjb25kc1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBpbnRlcnZhbCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuIl19\n"]}